{% extends 'base.html.twig' %}

{% block title %}
    Dirty Cars API
{% endblock %}

{% block body %}
    <div class="container mx-auto px-4 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold mb-6">
                Dirty Cars API
            </h1>
            <p class="text-xl text-gray-600 mb-8">
                Une API RESTful complète pour la gestion de voitures
            </p>

            <div class="flex gap-6 justify-center">
                <a href="{{ path('app_register') }}" class="bg-transparent hover:bg-blue-700 text-dark hover:text-white border-2 border-blue-700 font-bold py-3 px-10 rounded-xl shadow-xl transform hover:scale-105 transition-transform duration-300">
                    S'inscrire pour profiter de toutes les fonctionnalités
                </a>
            <a href="{{ path('api_doc') }}" class="bg-transparent hover:bg-blue-700 text-dark hover:text-white border-2 border-blue-700 font-bold py-3 px-10 rounded-xl shadow-xl transform hover:scale-105 transition-transform duration-300">Tester l'API</a>
            </div>
        </div>

        <!-- Main Content Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 mt-16">
            <!-- Left Column -->
            <div class="prose prose-lg max-w-none">

                <h3 class="text-2xl font-semibold mt-10 mb-4">
                    Fonctionnalités
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
                    <div class="p-4 rounded-lg">
                        <ul class="space-y-2 list-disc pl-6">
                            <li>
                                Authentification JWT
                            </li>
                            <li>
                                CRUD complet
                            </li>
                            <li>
                                Pagination avancée
                            </li>
                            <li>
                                Filtres multiples
                            </li>
                            <li>
                                Validation des données
                            </li>
                        </ul>
                    </div>
                    <div class="p-4 rounded-lg">
                        <ul class="space-y-2 list-disc pl-6">
                            <li>
                                Documentation Swagger
                            </li>
                            <li>
                                Système de notation
                            </li>
                            <li>
                                Gestion des images
                            </li>
                            <li>
                                Catégorisation
                            </li>
                            <li>
                                Recherche optimisée
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="prose prose-lg max-w-none">
                <h3 class="text-2xl font-semibold mb-6">
                    Endpoints principaux
                </h3>
                <div class=" p-6 rounded-lg shadow-md mb-8 border border-gray-200">
                    <ul class="space-y-4">
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/cars
                            </code>
                            <span>
                                Gestion des voitures
                            </span>
                        </li>
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/users
                            </code>
                            <span>
                                Gestion des utilisateurs
                            </span>
                        </li>
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/categories
                            </code>
                            <span>
                                Gestion des catégories
                            </span>
                        </li>
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/reviews
                            </code>
                            <span>
                                Gestion des avis
                            </span>
                        </li>
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/car_images
                            </code>
                            <span>
                                Gestion des images
                            </span>
                        </li>
                        <li class="flex items-center">
                            <code class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono">
                                /api/login_check
                            </code>
                            <span>
                                Authentification JWT
                            </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="mt-16 mb-12">
            <p class="text-xl text-gray-600 mb-8">
                Nombres de voitures par categories :
            </p>
            <div class="flex flex-row gap-6 justify-center">
                {% for category in categories %}
                    <p class="bg-blue-100 text-blue-800 px-3 py-1 rounded mr-3 font-mono"><span>{{ category.name }}</span> - <span>{{ category.count }}</span></p>
                {% endfor %}
            </div>
            <div class="dark:bg-gray-900 p-6 rounded-lg shadow-lg">
                <div class="flex items-center mb-4 bg-gray-800 px-4 py-2 rounded">
                    <span class="text-green-400 font-mono mr-2">
                        GET
                    </span>
                    <span class="text-blue-300 font-mono">
                        /api/cars/1
                    </span>
                </div>
                <div class="overflow-x-auto">
                <p class="text-xl text-gray-600 mb-8">
                Exemple de réponse :
            </p>
                    <pre class="text-sm whitespace-pre-wrap"><code>{
    "@context": "/api/contexts/Car",
    "@id": "/api/cars/1",
    "@type": "Car",
    "id": 1,
    "brand": "Ferrari",
    "model": "SF90 Stradale",
    "description": "La Ferrari SF90 Stradale 2022 incarne l'apogée de la performance et de l'innovation chez Ferrari...",
    "year": 2022,
    "price": 507000,
    "engineType": "V8 Hybrid",
    "horsepower": 986,
    "torque": 780,
    "topSpeed": 340,
    "acceleration": 2.5,
    "fuelType": "Hybrid",
    "transmission": "8-speed dual-clutch",
    "drivetrain": "AWD",
    "weight": 1570,
    "reviews": [
        {
            "@id": "/api/reviews/1",
            "@type": "Review",
            "content": "An absolute beast on the road. Worth every penny!",
            "rating": 5,
            "createdAt": "2025-01-12T14:00:00+00:00"
        },
        {
            "@id": "/api/reviews/2",
            "@type": "Review",
            "content": "The driving dynamics are unmatched. Truly a Ferrari.",
            "rating": 5,
            "createdAt": "2025-01-11T10:30:00+00:00"
        }
    ],
    "category": {
        "@id": "/api/categories/1",
        "@type": "Category",
        "id": 1,
        "name": "Prestige"
    },
    "images": [
        {
            "@id": "/api/car_images/1",
            "@type": "CarImage",
            "id": 1,
            "url": "https://images.pexels.com/photos/26928375/pexels-photo-26928375/free-photo-of-a-red-ferrari-sf90-stradale.png"
        }
    ]
}</code></pre>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
